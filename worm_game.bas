1  REM WORMRACE - BY MIKU SEVÃ“N 2025
2  POKE 53280, 11 : POKE 53281, 0 : FOR X = 0 TO 20 : D$ = D$ + "{DOWN}" : NEXT
3  MT = 20 : H = 9 : DIM H$(MT), HS(MT), H(H), SH(H) :: GOSUB 540 : REM GOSUB 550
5  DE = 300 : TR = 0 : REM SETTINGS INIT; DE = KEYDELAY, TR = TOTAL RACES (FOR STATS)
7  REM PRINT "{CLEAR}"
9  GOSUB 900 : PRINT "{DOWN*2}{WHITE} WELCOME TO THE WORM RACE STADIUM!"
10 CN = 1 : PL = H : RA = 1 : L = 1

15 FOR X = 1 TO H : PM(X) = 100 : PP(X) = 0 : PN$(X) = "" : NEXT : BP = 33 : REM SET PLY MONEY AND BETPRIZE

21 PRINT "{LIGHT GREEN} TYPE NAME OF HUMAN PLAYER"
22 PRINT " OR PRESS ENTER FOR AI PLAYER{LIGHT GRAY}"

23 FOR X = 1 TO PL
24   PRINT
25   PRINT "NAME OF PLAYER " X
26   INPUT PN$(X)
27   IF PN$(1) = "-1" THEN GOSUB 940 : GOTO 9
28   IF LEN(PN$(X)) > 7 THEN PN$(X) = LEFT$(PN$(X), 7)
29   IF LEFT$(PN$(X), 2) = "" THEN PN$(X) = "CPU" + STR$(CN) : PRINT PN$(X) + " ENTERED THE GAME" : CN = CN + 1
30 NEXT

27 GOSUB 520
28 FOR X = 1 TO PL
29   IF PP(X) < 1 THEN PRINT "PLAYER " PN$(X) " PICK A WORM (1-9)";
30   IF LEFT$(PN$(X), 2) = "CP" THEN IF PP(X) < 1 THEN G = 1 + INT(RND(0) * 9) : PRINT G : GOTO 30
31   IF PP(X) < 1 THEN G = 0 : INPUT G : IF G < 1 OR G > H THEN 31
32   PG(X) = G
33 NEXT

35 PRINT : PRINT "{YELLOW} LET'S GET READY FOR THE RACE!"
37 GOSUB 500

45 M = RND(-TI) : PRINT "{LIGHT GRAY}{CLEAR}{DOWN*2} ";
46 FOR X = 1 TO H
47   TL = 2
48   FOR Y = 1 TO H
49     POKE 646, X : REM PREVENT LINE OVERFLOW
50     IF PP(Y) < 1 THEN IF PG(Y) = X THEN IF TL + LEN(PN$(Y)) < 38 THEN PRINT PN$(Y) ", "; : TL = TL + 2 + LEN(PN$(Y))
51   NEXT
52   PRINT : PRINT " ";
53 NEXT

49 PRINT "{LIGHT GRAY}{LEFT}{UP}";
50 FOR X = 0 TO 36 : PRINT "{SH ASTERISK}"; : NEXT
51 X$ = STR$(RA) : GOSUB 570 : PRINT "{LIGHT BLUE}" X$ : GOSUB 800 : REM RACE OFF

55 PRINT "{HOME}"; : FOR X = 1 TO H : POKE 646, X : PRINT : PRINT "{LEFT}" X : NEXT
60 PRINT "{HOME}";

70 FOR X = 1 TO H
71   POKE 646, X
72   PRINT TAB(1 + H(X)) "{DOWN}{REVERSE ON}  {PI}"
73 NEXT

80 M = 1 + INT(H * RND(1)) : H(M) = H(M) + 1 : IF H(M) > 33 THEN 92
90 GOTO 60

92 POKE 646, M : PRINT "{HOME}" LEFT$(D$, 20); : SH(M) = SH(M) + 1 : REM PRINT "WORM " M " WINS"
93 FOR X = 0 TO 99 : POKE 2023 - X, 32 : POKE 1824 + X, 32 : NEXT : REM CLEAR SCORE FIELD
94 PRINT "{HOME}" LEFT$(D$, 20) "{LIGHT GRAY}TOP 3:" : H(M) = -1 : T(0) = M

96 FOR T = 1 TO 2
97   HH = 0 : HN = 1
98   FOR X = 1 TO H
99     IF H(X) > HH THEN HH = H(X) : BN = X
100  NEXT
101  H(BN) = -1 : T(T) = BN
102 NEXT

100 FOR X = 0 TO 2 : POKE 646, T(X) : PRINT " #" X + 1 "{LEFT}. WORM"; T(X) : NEXT
103 GOSUB 500
105 PRINT : PRINT "{LIGHT GRAY}WINNING PLAYERS:"

110 AP = 0
111 FOR X = 1 TO H
112   IF PP(X) = 1 THEN 150
115   IF PG(X) = T(0) THEN GOSUB 200 : GOTO 150
120   IF PG(X) = T(1) THEN GOSUB 202 : GOTO 150
130   IF PG(X) = T(2) THEN GOSUB 204
150 NEXT
155 PRINT "{LIGHT GRAY}" : REM CHANGE COLOR BACK

160 IF AP = 0 THEN PRINT "NO PLAYER WON!" : PRINT
165 GOSUB 500
170 PRINT "{WHITE}PLAYERS LEFT" : PRINT "PLAYER     COINS"
170 FOR X = 1 TO H
171   IF PP(X) = 1 THEN 175
172   IF LEFT$(PN$(X), 2) = "CP" THEN POKE 646, 15 : GOTO 174
173   POKE 646, 10
174   PRINT PN$(X), PM(X)
175 NEXT

178 BP = BP + 10 : PRINT : PRINT "{LIGHT GRAY}BET PRICE GOES UP TO" BP "COINS" : PRINT
180 GOSUB 500

185 PF = 0
186 FOR X = 1 TO H
187   H(X) = 0
188   IF PP(X) < 1 AND PM(X) >= BP THEN PM(X) = PM(X) - BP : PF = PF + 1 : GOTO 188
189   IF PM(X) < BP AND PP(X) < 1 THEN GOSUB 530
190 NEXT : REM RESET WORMS AND COSTS

192 IF PF < 1 THEN PRINT : PRINT "{YELLOW}WE HAVE A WINNER!" : GOTO 600 : REM GAME ENDS
194 PRINT : PRINT "{WHITE}" PF "PLAYER"; : IF PF > 1 THEN PRINT "S";
195 PRINT " LEFT IN THE GAME!{LIGHT GRAY}"
196 GOSUB 500

195 RA = RA + 1 : TR = TR + 1 : GOTO 27 : REM MORE RACES

199 REM FIX SOME LONG LINES WITH GOSUBS
200 PRINT "{YELLOW}PLAYER " PN$(X) " WINS X3.5 (" INT(BP * 3.5) ")" : PM(X) = PM(X) + INT(BP * 3.5) : AP = 1 : RETURN
202 PRINT "{GRAY}PLAYER " PN$(X) " WINS X2.5 (" INT(BP * 2.5) ")" : PM(X) = PM(X) + INT(BP * 2.5) : AP = 1 : RETURN
204 PRINT "{ORANGE}PLAYER " PN$(X) " WINS X1.5 (" INT(BP * 1.5) ")" : PM(X) = PM(X) + INT(BP * 1.5) : AP = 1 : RETURN

498 END

499 REM WAIT KEY
500 GETA$ : IF A$ <> "" THEN 500 : REM EMPTY KEYBOARD BUFFER
501 W = 0 : POKE 2021, 11 : POKE 2022, 5 : POKE 2023, 25 : C = 0
502 POKE 56293, C : C = C + 1 : POKE 56294, C : C = C + 1 : POKE 56295, C
504 IF C > 250 THEN C = 0 : REM NO COLOR OVERFLOW
505 IF DE = 0 THEN 507 : REM NO DELAY, FORCE KEY PRESS
506 W = W + 1 : IF W > DE THEN 508 : REM AUTOPLAY / SKIP WAIT
507 GETA$ : IF A$ = "" THEN 502
508 POKE 2021, 32 : POKE 2022, 32 : POKE 2023, 32
510 RETURN

519 REM RACEINFO
520 PRINT "{LIGHT GREEN}{DOWN*2}WELCOME TO THE WORMRACE OF TODAY"
522 PRINT "THIS IS THE #" RA " RACE OF THE DAY."
523 PRINT "BET PRICE IS" BP : PRINT "{LIGHT GRAY}"
524 RETURN

529 REM KICK A PLAYER
530 PRINT PN$(X) " CANT AFFORD TO PLAY, BYE!" : PP(X) = 1 : PM(X) = PM(X) + (1000 * RA)
535 RETURN

539 REM INIT HISCORE
540 FOR X = 1 TO MT
541   H$(X) = "......."
542   HS(X) = 9999 - X * 300
543 NEXT

542 H$(1) = "EYVIND." : H$(2) = "WAS...." : H$(3) = "HERE..." : H$(4) = "2025..."
544 RETURN

549 REM SHOW HISCORE
550 PRINT : PRINT SPC(15) "{WHITE}HI-SCORE" : PRINT
551 PRINT SPC(8) "{WHITE}PLACE   PLAYER   SCORE"
552 PRINT SPC(5) ; : FOR X = 0 TO 27 : PRINT "{SH ASTERISK}" ; : NEXT : PRINT

554 FOR X = 1 TO MT
555   GOSUB 590
556   X$ = STR$(X)
557   GOSUB 570 : REM STRIP SPACES
558   IF LEN(X$) < 2 THEN X$ = " " + X$
560   PRINT SPC(9) X$ "." SPC(4) H$(X) " " HS(X)
561 NEXT

562 GOSUB 500 : RETURN

569 REM STRIP SPACES IN FRONT AND BACK
570 IF LEFT$(X$, 1) = " " THEN X$ = RIGHT$(X$, LEN(X$) - 1) : GOTO 570
572 IF RIGHT$(X$, 1) = " " THEN X$ = LEFT$(X$, LEN(X$) - 1) : GOTO 572
574 RETURN

579 REM FIRST GAME TIPS
580 PRINT : PRINT "{WHITE} TIP: TYPE -1 AS THE FIRST PLAYER"
582 PRINT " FOR OPTIONS AND STATISTICS." : GOSUB 500
588 RETURN

589 REM DETERMINE COLOR FOR SCORES
590 IF X AND 1 THEN POKE 646, 14 : GOTO 592
591 POKE 646, 6
592 IF X = 1 THEN POKE 646, 7
593 IF X = 2 THEN POKE 646, 12
594 IF X = 3 THEN POKE 646, 8
595 RETURN
599 REM GAME ENDED
600 FOR X = 1 TO H
601   IF PP(X) < 1 THEN
602     PM(X) = PM(X) + (1000 * (RA + 1))
603     PRINT "{YELLOW}PLAYER " PN$(X) " WINS!"
604   END IF
605 NEXT : REM NOW SORT BY PM()

604 Q = 0
605 FOR X = 1 TO 9
606   IF PM(X) >= PM(X + 1) THEN 608
607   Q$ = PN$(X) : Q = PM(X)
608   PN$(X) = PN$(X + 1) : PM(X) = PM(X + 1)
609   PN$(X + 1) = Q$ : PM(X + 1) = Q
610 NEXT
611 IF Q <> 0 THEN 604 : REM MORE TO SORT

612 PRINT "{WHITE}PLACE     PLAYER     SCORE"
613 FOR X = 0 TO 27 : PRINT "{SH ASTERISK}" ; : NEXT : PRINT

614 FOR X = 1 TO H
615   GOSUB 590
616   PRINT " " X "{LEFT}." , PN$(X), PM(X)
617 NEXT

618 REM PRINT "{YELLOW}PLAYER " PN$(LS(L)) " WINS!"
620 PRINT : PRINT "{WHITE}MADE" RA " RACES"
630 GOSUB 500

640 REM DETERMINE WHICH PLAYERS MADE HISCORE
650 J = 0
651 FOR X = 1 TO H
652   K = 0
653   FOR Y = MT TO 1 STEP -1
654     IF PM(X) > HS(Y) THEN K = Y
655   NEXT Y
656   IF K = 0 THEN 720
657   PRINT "PLAYER " PN$(X) " MADE " K " PLACE!" : J = 1
658   FOR Z = MT TO K + 1 STEP -1
659     H$(Z) = H$(Z - 1)
660     HS(Z) = HS(Z - 1)
661   NEXT Z
662   IF LEN(PN$(X)) < 7 THEN PN$(X) = PN$(X) + "." : GOTO 662 : REM FILL NAME WITH DOTS
663   H$(K) = PN$(X) : HS(K) = PM(X)
664 NEXT X

725 IF J = 0 THEN PRINT "NO PLAYER MADE THE HISCORE"
730 GOSUB 500
740 GOSUB 550 : IF FG = 0 THEN FG = 1 : GOSUB 580 : REM FIRST GAME
760 GOTO 9 : REM NEW GAME

799 REM RACE ON LOGO
800 PRINT "  {LIGHT GREEN}{CM +}{CM +}{CM +}   {CM +}   {CM +}{CM +} {CM +}{CM +}{CM +}   {CM +} {CM +}{CM +}{CM +}    {CM +}  {CM +}  {CM +}"
802 PRINT "  {CM +}  {CM +} {CM +} {CM +} {CM +}   {CM +}     {CM +} {CM +}     {CM +} {CM +} {CM +}{CM +} {CM +}"
804 PRINT "  {CM +}{CM +}{CM +}  {CM +}{CM +}{CM +} {CM +}   {CM +}{CM +}    {CM +} {CM +}{CM +}{CM +}   {CM +} {CM +} {CM +} {CM +}{CM +}"
806 PRINT "  {CM +}  {CM +} {CM +} {CM +} {CM +}   {CM +}     {CM +}   {CM +}   {CM +} {CM +} {CM +}  {CM +}"
808 PRINT "  {CM +}  {CM +} {CM +} {CM +}  {CM +}{CM +} {CM +}{CM +}{CM +}   {CM +} {CM +}{CM +}{CM +}    {CM +}  {CM +}  {CM +}"
810 RETURN

899 REM GAME LOGO
900 PRINT
901 PRINT "  {CYAN}{REVERSE ON}P{REVERSE OFF} {REVERSE ON}P{REVERSE OFF} {REVERSE ON}PP{REVERSE OFF}  {REVERSE ON}PP{REVERSE OFF}  {REVERSE ON}PPP{REVERSE OFF} {REVERSE ON}PPP{REVERSE OFF}   {REVERSE ON}PP{REVERSE OFF}   {REVERSE ON}P{REVERSE OFF}   {REVERSE ON}PP{REVERSE OFF} {REVERSE ON}PPP"
902 PRINT "  {LIGHT GREEN}{REVERSE ON}P{REVERSE OFF} {REVERSE ON}P{REVERSE OFF} {REVERSE ON}P{REVERSE OFF} {REVERSE ON}P{REVERSE OFF} {REVERSE ON}P{REVERSE OFF} {REVERSE ON}P{REVERSE OFF} {REVERSE ON}P{REVERSE OFF}   {REVERSE ON}P{REVERSE OFF}     {REVERSE ON}P{REVERSE OFF} {REVERSE ON}P{REVERSE OFF} {REVERSE ON}P{REVERSE OFF} {REVERSE ON}P{REVERSE OFF} {REVERSE ON}P{REVERSE OFF}   {REVERSE ON}P"
904 PRINT "  {YELLOW}{REVERSE ON}PPP{REVERSE OFF} {REVERSE ON}P{REVERSE OFF} {REVERSE ON}P{REVERSE OFF} {REVERSE ON}PP{REVERSE OFF}  {REVERSE ON}PPP{REVERSE OFF} {REVERSE ON}PP{REVERSE OFF}    {REVERSE ON}PP{REVERSE OFF}  {REVERSE ON}PPP{REVERSE OFF} {REVERSE ON}P{REVERSE OFF}   {REVERSE ON}PP"
906 PRINT "  {LIGHT GREEN}{REVERSE ON}P{REVERSE OFF} {REVERSE ON}P{REVERSE OFF} {REVERSE ON}P{REVERSE OFF} {REVERSE ON}P{REVERSE OFF} {REVERSE ON}P{REVERSE OFF} {REVERSE ON}P{REVERSE OFF}   {REVERSE ON}P{REVERSE OFF} {REVERSE ON}P{REVERSE OFF}     {REVERSE ON}P{REVERSE OFF} {REVERSE ON}P{REVERSE OFF} {REVERSE ON}P{REVERSE OFF} {REVERSE ON}P{REVERSE OFF} {REVERSE ON}P{REVERSE OFF}   {REVERSE ON}P"
908 PRINT "  {CYAN}{REVERSE ON}P{REVERSE OFF} {REVERSE ON}P{REVERSE OFF} {REVERSE ON}PPP{REVERSE OFF} {REVERSE ON}P{REVERSE OFF} {REVERSE ON}P{REVERSE OFF} {REVERSE ON}PPP{REVERSE OFF} {REVERSE ON}PPP{REVERSE OFF}   {REVERSE ON}P{REVERSE OFF} {REVERSE ON}P{REVERSE OFF} {REVERSE ON}P{REVERSE OFF} {REVERSE ON}P{REVERSE OFF}  {REVERSE ON}PP{REVERSE OFF} {REVERSE ON}PPP"
912 PRINT SPC(12) "{DARK GRAY}A GAME BY MIKU SEVON 2025"
914 PRINT "{WHITE} GAME RULES:"
916 PRINT "{LIGHT GRAY}  THERE ARE 9 WORMS IN THE GAME."
918 PRINT "  PICK A WORM YOU THINK WILL WIN."
920 PRINT "  IF YOUR WORM MAKES THE TOP 3,"
922 PRINT "  YOU ARE AWARDED COINS. COINS ARE "
924 PRINT "  NEEDED TO PAY FOR FURTHER RACES."
926 PRINT "  WIN AS MANY RACES THAT YOU CAN"
927 PRINT "  TO ENTER THE LEGENDARY {YELLOW}TOP 20."
930 RETURN
939 REM GAME SETTINGS
940 M$ = "" : PRINT : PRINT "{WHITE} GAME SETTINGS:" : PRINT
944 PRINT : PRINT "1. KEY WAIT (SET:" DE ")"
948 REM PRINT: PRINT "2. END-GAME SETTINGS"
952 PRINT : PRINT "2. SHOW HI-SCORE (TOP: '" H$(1) "')"
956 PRINT : PRINT "3. STATISTICS (STATS FOR" TR "RACES)"
960 PRINT : PRINT "0. END MENU"
964 INPUT "(0-3)"; M$ : IF M$ < "0" OR M$ > "3" THEN 940
972 IF M$ = "0" THEN RETURN
976 IF M$ = "1" THEN GOSUB 1000 : GOTO 940
978 REM IF M$ = "2" THEN GOSUB 1040 : GOTO 940
980 IF M$ = "2" THEN GOSUB 550 : GOTO 940
982 IF M$ = "3" THEN GOSUB 1100 : GOTO 940
990 GOTO 940